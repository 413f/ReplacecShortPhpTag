(this["webpackJsonpreplace-short-php-tag"]=this["webpackJsonpreplace-short-php-tag"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(10),a=n.n(s),i=(n(18),n(19),n(20),n(21),n(2)),o=n.n(i),l=n(5),u=n(13),f=n(3),p=(n(23),n(9)),d=n.n(p),h=n(11);var j=function(e,t){return new Promise(function(){var n=Object(l.a)(o.a.mark((function n(c,r){var s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("Process started");case 2:if(0!==e.size){n.next=5;break}return r(!1),n.abrupt("return");case 5:return n.prev=5,s=function(e){return!!e.match(/\.php$/)},n.next=9,d.a.loadAsync(e).then(function(){var n=Object(l.a)(o.a.mark((function n(c){var r,a,i,l,u,f;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=new d.a,t("File '"+e.name+"' is opened"),n.t0=o.a.keys(c.files);case 3:if((n.t1=n.t0()).done){n.next=14;break}return a=n.t1.value,i=c.files[a],l=i.name,i.dir&&r.folder(l),n.next=10,i.async("string");case 10:u=n.sent,s(l)?(f=u.replace(/<\?(?!php|=)/g,"<?php "),r.file(l,f||u),t("File processed: "+l)):(t("File skiped: "+l),r.file(l,u)),n.next=3;break;case 14:r.generateAsync({type:"blob"}).then((function(e){Object(h.saveAs)(e,"out.zip")})),t("Process is end");case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 9:n.next=17;break;case 11:return n.prev=11,n.t0=n.catch(5),n.next=15,t(n.t0.toString());case 15:return r(!1),n.abrupt("return");case 17:return c(!0),n.abrupt("return");case 19:case"end":return n.stop()}}),n,null,[[5,11]])})));return function(e,t){return n.apply(this,arguments)}}())},b=(n(31),n(0));var v=function(e){var t="application/x-zip-compressed",n=e.onStartProccess||console.log,r=Object(c.useState)(new File([],"")),s=Object(f.a)(r,2),a=s[0],i=s[1],o=a.size>0,l="";l=o?"Selected file: "+a.name:"File not selected";var u=Object(c.useRef)(null),p=Object(b.jsx)("input",{type:"file",onChange:function(e){return function(e){var n=e[0];return n instanceof File?n.type!==t?(console.log("Need select zip file"),void i(new File([],""))):void i(n):(console.log("file not selected"),void i(new File([],"")))}(e.target.files)},accept:t,className:"input-select-file",ref:u}),d=Object(b.jsx)("span",{className:"unset-select-file",onClick:function(){u&&u.current&&(u.current.value=""),i(new File([],""))},children:"Unset"}),h=Object(b.jsx)("span",{className:"button-process-file",onClick:function(){n(a)},children:"Process"});return Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{onClick:function(){u&&u.current&&u.current.click()},className:"button-select-file",children:"Select File"}),p,Object(b.jsxs)("div",{className:"state-select-file",children:[Object(b.jsx)("span",{className:"title-select-file",children:l}),o?d:""]}),o?Object(b.jsx)("div",{children:h}):""]})},m=n(12),x=(n(33),function e(t,n){Object(m.a)(this,e),this.key=void 0,this.text=void 0,this.key=t||0,this.text=n||""});var O=function(e){return Object(b.jsx)("div",{className:"log-messages",children:e.messages.map((function(e,t){return e instanceof x?Object(b.jsx)("div",{className:"log-message",children:e.text||""},(e.key||"").toString()||t):""}))})};var g=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!1),a=Object(f.a)(s,2),i=a[0],p=a[1],d=Object(c.useState)(""),h=Object(f.a)(d,2),m=h[0],g=h[1];function w(){return(w=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:return r([]),p(!0),e.next=6,j(t,g).then((function(e){p(!1)}),console.log);case 6:return e.abrupt("return");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(e){var t=Object(u.a)(n);t.unshift(new x(Date.now(),e)),r(t)}(m)}),[m]),Object(b.jsxs)("div",{className:"fix-php-tags",children:[Object(b.jsx)("div",{className:"select-file-block",children:Object(b.jsx)(v,{onStartProccess:function(e){!function(e){w.apply(this,arguments)}(e)}})}),Object(b.jsx)("div",{className:"messages-block",children:Object(b.jsx)(O,{messages:n})})]})};var w=function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,Object(b.jsx)("div",{className:"App dark-theme",id:"App",children:Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)(g,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(w,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),k()}},[[34,1,2]]]);
//# sourceMappingURL=main.0027fe62.chunk.js.map